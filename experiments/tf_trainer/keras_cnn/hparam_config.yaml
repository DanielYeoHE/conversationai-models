trainingInput:
  pythonVersion: '3.5'
  ## BASIC_GPU uses single NVIDIA Tesla K80 GPU.
  ## See: https://cloud.google.com/ml-engine/docs/tensorflow/using-gpus
  # scaleTier: BASIC_GPU
  scaleTier: CUSTOM
  masterType: standard_p100
  workerType: standard_p100
  parameterServerType: large_model
  workerCount: 3
  parameterServerCount: 1
  # Hyper parameter search specification:
  hyperparameters:
    goal: MAXIMIZE
    hyperparameterMetricTag: roc_auc
    maxTrials: 20
    maxParallelTrials: 3
    enableTrialEarlyStopping: TRUE
    params:
      - parameterName: learning_rate
        type: DISCRETE
        discreteValues:
        - 0.01
        - 0.001
        - 0.0001
      - parameterName: dropout_fraction
        type: DISCRETE
        discreteValues:
        - 0.1
      - parameterName: batch_size
        type: DISCRETE
        discreteValues:
        - 512
      - parameterName: cnn_shape
        type: CATEGORICAL
        categoricalValues:
        - '(2/2 -> 100), (3/2 -> 100) : (6/2 -> 100) : (3/1 -> 100)'
        - '(2/1 -> 100), (3/1 -> 100), (4/1 -> 100), (5/1 -> 100)'
      - parameterName: dense_units
        type: CATEGORICAL
        categoricalValues:
        - '1024'
